<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
    />
    <title>分后端分离开发起步</title>
    <style></style>
  </head>

  <body>
    <div id="app">
      <nav>
        <div class="nav-wrapper">
          <a href="#" class="brand-logo">Vue</a>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a href="#">HTML</a></li>
            <li><a href="#">CSS</a></li>
            <li><a href="#">JavaScript</a></li>
          </ul>
        </div>
      </nav>
      <div class="container">
        <div class="row">
          <div class="input-field col s6">
            <input
              type="text"
              id="author"
              class="validate"
              v-model="article.author"
            />
            <label class="active" for="author">author</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input
              id="title"
              type="text"
              class="validate"
              v-model="article.title"
            />
            <label class="active" for="title">title</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input
              id="content"
              type="text"
              class="validate"
              v-model="article.content"
            />
            <label class="active" for="content">content</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input
              id="thumbnail"
              type="text"
              class="validate"
              v-model="article.thumbnail"
            />
            <label class="active" for="thumbnail" aria-placeholder="thumbnail"
              >thumbnail</label
            >
          </div>
        </div>

        <button
          class="btn waves-effect waves-light"
          type="submit"
          name="action"
          @click="submit()"
        >
          Submit
          <i class="material-icons right">send</i>
        </button>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
      new Vue({
        el: `#app`,
        data: {
          article: {
            author: "",
            title: "",
            content: "",
            thumbnail:
              "https://img0.baidu.com/it/u=2328944375,706971057&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281",
          },
        },
        methods: {
          submit() {
            // str = JSON.stringify(this.article);
            // console.log(str);
            // console.log(typeof str);
            axios({
              url: "http://localhost:8080/api/v1/articles/",
              method: "post",
              data: this.article,
            }).then((res) => {
              alert("添加成功");
            });
          },
        },
      });
    </script>
  </body>
</html>
